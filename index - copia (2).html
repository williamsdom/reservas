<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Le Mouk Club - Reservaciones en Tiempo Real</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-database-compat.js"></script>
    
    <style>
        :root {
            --primary: #8a2be2;
            --primary-dark: #7a1ad2;
            --success: #51cf66;
            --warning: #fcc419;
            --danger: #ff6b6b;
            --dark: #121212;
            --darker: #1a1a1a;
            --light: #fff;
            --gray: #aaa;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--dark);
            color: var(--light);
            line-height: 1.6;
        }
        
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }
        
        header {
            background-color: var(--darker);
            padding: 15px 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }
        
        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .logo-icon {
            font-size: 24px;
            color: var(--primary);
        }
        
        .logo h1 {
            font-size: 24px;
            font-weight: 700;
        }
        
        .logo span {
            color: var(--primary);
        }
        
        .nav-links {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .nav-links a {
            color: var(--light);
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .nav-links a:hover {
            color: var(--primary);
        }
        
        .btn {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            transition: background-color 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn:hover {
            background-color: var(--primary-dark);
        }
        
        .btn-small {
            padding: 8px 15px;
            font-size: 14px;
        }
        
        .btn-secondary {
            background-color: #333;
        }
        
        .btn-success {
            background-color: var(--success);
        }
        
        .btn-warning {
            background-color: var(--warning);
            color: #000;
        }
        
        .btn-danger {
            background-color: var(--danger);
        }
        
        .btn-info {
            background-color: #17a2b8;
        }
        
        .btn-purple {
            background-color: #6f42c1;
        }
        
        .hero {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), 
                        url('https://images.unsplash.com/photo-1530103862676-de8c9debad1d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80');
            background-size: cover;
            background-position: center;
            padding: 100px 0;
            text-align: center;
        }
        
        .hero h2 {
            font-size: 48px;
            margin-bottom: 20px;
        }
        
        .hero p {
            font-size: 18px;
            max-width: 700px;
            margin: 0 auto 30px;
            color: var(--gray);
        }
        
        .hero-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .section-title {
            text-align: center;
            font-size: 36px;
            margin-bottom: 40px;
            position: relative;
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 3px;
            background-color: var(--primary);
        }
        
        .reservation-section {
            padding: 80px 0;
        }
        
        .social-section {
            padding: 80px 0;
            background-color: var(--darker);
        }
        
        .social-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }
        
        .social-card {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            padding: 40px 30px;
            border-radius: 15px;
            text-align: center;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .social-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(138, 43, 226, 0.3);
        }
        
        .social-icon {
            font-size: 48px;
            margin-bottom: 20px;
        }
        
        .social-card h3 {
            font-size: 24px;
            margin-bottom: 15px;
        }
        
        .social-card p {
            margin-bottom: 25px;
            color: rgba(255, 255, 255, 0.8);
        }
        
        .social-link {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: rgba(255, 255, 255, 0.2);
            padding: 12px 25px;
            border-radius: 50px;
            color: white;
            text-decoration: none;
            font-weight: 600;
            transition: background 0.3s;
        }
        
        .social-link:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        
        .selected-date-indicator {
            background-color: var(--darker);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 30px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .reservation-process {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }
        
        @media (max-width: 768px) {
            .reservation-process {
                grid-template-columns: 1fr;
            }
        }
        
        .calendar-container, .furniture-container {
            background-color: var(--darker);
            padding: 25px;
            border-radius: 10px;
        }
        
        .calendar-container h3, .furniture-container h3 {
            margin-bottom: 20px;
            font-size: 22px;
        }
        
        .calendar {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 10px;
        }
        
        .calendar-header {
            grid-column: 1 / -1;
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            text-align: center;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .calendar-day {
            padding: 10px;
            text-align: center;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
            position: relative;
        }
        
        .calendar-day:hover {
            background-color: #333;
        }
        
        .calendar-day.selected {
            background-color: var(--primary);
        }
        
        .calendar-day.disabled {
            color: #666;
            cursor: not-allowed;
        }
        
        .calendar-day.has-reservations {
            background-color: rgba(255, 107, 107, 0.1);
        }
        
        .calendar-day.has-pending {
            background-color: rgba(252, 196, 25, 0.1);
        }
        
        .reservation-count {
            position: absolute;
            top: 2px;
            right: 2px;
            background: var(--danger);
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .pending-count {
            background: var(--warning);
            color: #000;
        }
        
        .furniture-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
        }
        
        .furniture-card {
            background-color: #222;
            border-radius: 8px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }
        
        .furniture-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .furniture-card.selected {
            border-color: var(--primary);
        }
        
        .furniture-card.available {
            border-color: var(--success);
            cursor: pointer;
        }
        
        .furniture-card.reserved {
            border-color: var(--danger);
            opacity: 0.7;
            cursor: not-allowed;
        }
        
        .furniture-card.pending {
            border-color: var(--warning);
            cursor: not-allowed;
        }
        
        .furniture-card.disabled:hover {
            transform: none;
            box-shadow: none;
        }
        
        .furniture-icon {
            font-size: 24px;
            margin-bottom: 10px;
        }
        
        .furniture-name {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .furniture-details {
            font-size: 14px;
            color: var(--gray);
        }
        
        .status-badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: bold;
            margin-top: 5px;
        }
        
        .status-available {
            background-color: var(--success);
            color: #000;
        }
        
        .status-reserved {
            background-color: var(--danger);
            color: #fff;
        }
        
        .status-pending {
            background-color: var(--warning);
            color: #000;
        }
        
        .reservation-summary {
            background-color: var(--darker);
            padding: 25px;
            border-radius: 10px;
        }
        
        .summary-title {
            margin-bottom: 20px;
            font-size: 22px;
        }
        
        .summary-details {
            margin-bottom: 20px;
        }
        
        .summary-item, .summary-total {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #333;
        }
        
        .summary-total {
            font-weight: bold;
            font-size: 18px;
            border-bottom: none;
            margin-top: 10px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
        }
        
        .form-control {
            width: 100%;
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #444;
            background-color: #222;
            color: var(--light);
            font-size: 14px;
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--primary);
        }
        
        .admin-panel {
            padding: 80px 0;
            display: none;
        }
        
        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }
        
        .admin-actions {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin-bottom: 30px;
        }
        
        .sync-section {
            background-color: var(--darker);
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 30px;
        }
        
        .config-info {
            background-color: #222;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
        }
        
        .reservations-list {
            background-color: var(--darker);
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 30px;
        }
        
        .furniture-management {
            background-color: var(--darker);
            padding: 25px;
            border-radius: 10px;
        }
        
        .reservation-item {
            background-color: #222;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            border-left: 4px solid var(--warning);
        }
        
        .reservation-item.confirmed {
            border-left-color: var(--success);
        }
        
        .reservation-item.cancelled {
            border-left-color: var(--danger);
            opacity: 0.7;
        }
        
        .reservation-info {
            display: flex;
            flex-direction: column;
        }
        
        .reservation-date {
            font-weight: bold;
            font-size: 18px;
            margin-bottom: 5px;
        }
        
        .reservation-details {
            color: var(--gray);
            font-size: 14px;
            margin-bottom: 5px;
        }
        
        .reservation-client {
            color: var(--light);
            font-size: 14px;
            margin-bottom: 5px;
        }
        
        .reservation-actions {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        
        .reservation-status {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: bold;
            margin-top: 5px;
        }
        
        .status-pending-badge {
            background-color: var(--warning);
            color: #000;
        }
        
        .status-confirmed-badge {
            background-color: var(--success);
            color: #000;
        }
        
        .status-cancelled-badge {
            background-color: var(--danger);
            color: #fff;
        }
        
        .connection-status {
            position: fixed;
            top: 10px;
            right: 10px;
            padding: 8px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            z-index: 1001;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .online {
            background-color: var(--success);
            color: #000;
        }
        
        .offline {
            background-color: var(--danger);
            color: #fff;
        }
        
        .sync-status {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-bottom: 15px;
            padding: 10px;
            background-color: #222;
            border-radius: 5px;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background-color: var(--darker);
            padding: 30px;
            border-radius: 10px;
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .modal-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .modal-title {
            font-size: 24px;
            font-weight: bold;
        }
        
        .modal-close {
            background: none;
            border: none;
            color: var(--light);
            font-size: 24px;
            cursor: pointer;
        }
        
        .login-form {
            background-color: var(--darker);
            padding: 30px;
            border-radius: 10px;
            max-width: 400px;
            margin: 100px auto;
        }
        
        .menu-toggle {
            display: none;
            flex-direction: column;
            background: none;
            border: none;
            cursor: pointer;
        }
        
        .menu-toggle span {
            width: 25px;
            height: 3px;
            background-color: #fff;
            margin: 3px 0;
            transition: 0.3s;
        }
        
        /* Estilos para impresi√≥n */
        @media print {
            body * {
                visibility: hidden;
            }
            #printable-reservations, #printable-reservations * {
                visibility: visible;
            }
            #printable-reservations {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
                background: white;
                color: black;
                padding: 20px;
            }
            .no-print {
                display: none !important;
            }
        }
        
        .whatsapp-info {
            background-color: rgba(37, 211, 102, 0.1);
            border: 1px solid #25d366;
            border-radius: 8px;
            padding: 15px;
            margin-top: 20px;
        }
        
        .whatsapp-info h4 {
            color: #25d366;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .furniture-management-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .furniture-management-card {
            background-color: #222;
            border-radius: 8px;
            padding: 15px;
            border: 2px solid #333;
        }
        
        .furniture-management-actions {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        
        @media (max-width: 768px) {
            .menu-toggle {
                display: flex;
            }
            
            .nav-links {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                width: 100%;
                background-color: var(--darker);
                flex-direction: column;
                padding: 20px;
            }
            
            .nav-links.active {
                display: flex;
            }
            
            .hero h2 {
                font-size: 36px;
            }
            
            .admin-header {
                flex-direction: column;
                gap: 15px;
            }
            
            .reservation-actions {
                flex-direction: column;
            }
            
            .furniture-management-actions {
                flex-direction: column;
            }
            
            .hero-buttons {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <!-- Status de Conexi√≥n -->
    <div class="connection-status" id="connection-status">
        <i class="fas fa-wifi"></i>
        <span id="status-text">Conectando...</span>
    </div>

    <!-- Modal de Login -->
    <div class="modal" id="login-modal">
        <div class="login-form">
            <div class="modal-header">
                <h2 class="modal-title">Acceso Administrativo</h2>
            </div>
            <form id="admin-login-form">
                <div class="form-group">
                    <label class="form-label">Usuario</label>
                    <input type="text" class="form-control" id="admin-username" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Contrase√±a</label>
                    <input type="password" class="form-control" id="admin-password" required>
                </div>
                <button type="submit" class="btn" style="width: 100%;">
                    <i class="fas fa-sign-in-alt"></i> Ingresar
                </button>
            </form>
        </div>
    </div>

    <!-- Modal de Datos del Cliente -->
    <div class="modal" id="client-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Datos del Cliente</h2>
                <button class="modal-close" id="client-modal-close">&times;</button>
            </div>
            <form id="client-form">
                <div class="form-group">
                    <label class="form-label">Nombre *</label>
                    <input type="text" class="form-control" id="client-name" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Apellido *</label>
                    <input type="text" class="form-control" id="client-lastname" required>
                </div>
                <div class="form-group">
                    <label class="form-label">WhatsApp *</label>
                    <input type="tel" class="form-control" id="client-whatsapp" required 
                           placeholder="+1 809 123 4567">
                </div>
                <div class="form-group">
                    <label class="form-label">Notas (opcional)</label>
                    <textarea class="form-control" id="client-notes" rows="3" 
                              placeholder="Comentarios adicionales..."></textarea>
                </div>
                
                <div class="whatsapp-info">
                    <h4><i class="fab fa-whatsapp"></i> Informaci√≥n de Pago</h4>
                    <p>Despu√©s de enviar tu solicitud, recibir√°s un mensaje por WhatsApp con los detalles para realizar el pago y confirmar tu reserva.</p>
                    <p><strong>Banco:</strong> Banco Popular Dominicano</p>
                    <p><strong>Cuenta:</strong> 123-456789-0</p>
                    <p><strong>Titular:</strong> Le Mouk Club</p>
                </div>
                
                <button type="submit" class="btn btn-success" style="width: 100%; margin-top: 20px;">
                    <i class="fas fa-paper-plane"></i> Enviar Solicitud de Reservaci√≥n
                </button>
            </form>
        </div>
    </div>

    <!-- Modal para agregar/editar mesa -->
    <div class="modal" id="furniture-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="furniture-modal-title">Agregar Nueva Mesa</h2>
                <button class="modal-close" id="furniture-modal-close">&times;</button>
            </div>
            <form id="furniture-form">
                <input type="hidden" id="furniture-edit-id">
                <div class="form-group">
                    <label class="form-label">Nombre de la Mesa *</label>
                    <input type="text" class="form-control" id="furniture-name" required 
                           placeholder="Ej: Mesa VIP 1">
                </div>
                <div class="form-group">
                    <label class="form-label">Capacidad *</label>
                    <input type="number" class="form-control" id="furniture-capacity" required 
                           min="1" max="60" placeholder="Ej: 6">
                </div>
                <div class="form-group">
                    <label class="form-label">Precio *</label>
                    <input type="number" class="form-control" id="furniture-price" required 
                           min="0" placeholder="Ej: 5000">
                </div>
                <div class="form-group">
                    <label class="form-label">Icono *</label>
                    <select class="form-control" id="furniture-icon" required>
                        <option value="crown">Corona (VIP)</option>
                        <option value="chair">Silla (Est√°ndar)</option>
                        <option value="users">Grupo (Grande)</option>
                        <option value="user-friends">Pareja (Peque√±a)</option>
                        <option value="couch">Sof√°</option>
                        <option value="wine-glass">Copa</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-success" style="width: 100%; margin-top: 20px;">
                    <i class="fas fa-save"></i> Guardar Mesa
                </button>
            </form>
        </div>
    </div>

    <!-- Header -->
    <header>
        <div class="container">
            <nav>
                <div class="logo">
                    <i class="fas fa-couch logo-icon"></i>
                    <h1>Le Mouk <span>Club</span></h1>
                </div>
                
                <button class="menu-toggle" id="menu-toggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                
                <div class="nav-links" id="nav-links">
                    <a href="#reservations">Reservaciones</a>
                    <a href="#social">Redes Sociales</a>
                    <a href="#contact">Contacto</a>
                    <button class="btn btn-small" id="admin-login-btn">
                        <i class="fas fa-user-shield"></i> Admin
                    </button>
                </div>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h2>Reserva tu experiencia exclusiva</h2>
            <p>Disfruta de una noche inolvidable en el club m√°s exclusivo de Santiago. Reserva tu mesa preferida con anticipaci√≥n.</p>
            <div class="hero-buttons">
                <button class="btn" id="reserve-now-btn">
                    <i class="fas fa-calendar-plus"></i> Reservar Ahora
                </button>
                <a href="https://img.restaurantguru.com/r10d-Le-Mouk-Club-design.jpg" target="_blank" class="btn btn-info">
                    <i class="fas fa-calendar-alt"></i> Evento
                </a>
                <a href="https://drive.google.com/file/d/13UkVroyoFlR767Nsgu4-shG2vmhrSUgI/view?usp=drive_link" target="_blank" class="btn btn-purple">
                    <i class="fas fa-chair"></i> Posicione Mueble
                </a>
            </div>
        </div>
    </section>

    <!-- Reservation Section -->
    <section class="reservation-section" id="reservations">
        <div class="container">
            <h2 class="section-title">Reserva tu Mesa</h2>
            
            <div class="selected-date-indicator" id="selected-date-indicator">
                <i class="fas fa-calendar-day"></i>
                Fecha seleccionada: <span id="selected-date-text"></span>
            </div>
            
            <div class="reservation-process">
                <div class="calendar-container">
                    <h3>Selecciona una Fecha</h3>
                    <div id="calendar-container"></div>
                </div>
                
                <div class="furniture-container" id="furniture-container">
                    <h3>Selecciona tu Mesa</h3>
                    <p style="color: #aaa; margin-bottom: 15px; font-size: 14px;">
                        <i class="fas fa-info-circle"></i> 
                        <span style="color: #51cf66;">‚úÖ Disponible</span> | 
                        <span style="color: #fcc419;">‚è≥ Pendiente</span> | 
                        <span style="color: #ff6b6b;">‚ùå Confirmada</span>
                    </p>
                    <div class="furniture-grid" id="furniture-grid">
                        <!-- Las mesas se cargar√°n aqu√≠ -->
                    </div>
                </div>
            </div>
            
            <div class="reservation-summary" id="reservation-summary">
                <h3 class="summary-title">Resumen de tu Reservaci√≥n</h3>
                <div class="summary-details">
                    <div class="summary-item">
                        <span>Fecha:</span>
                        <span id="summary-date">-</span>
                    </div>
                    <div class="summary-item">
                        <span>Mesa:</span>
                        <span id="summary-furniture">-</span>
                    </div>
                    <div class="summary-item">
                        <span>Capacidad:</span>
                        <span id="summary-capacity">-</span>
                    </div>
                    <div class="summary-item">
                        <span>Precio:</span>
                        <span id="summary-price">-</span>
                    </div>
                    <div class="summary-total">
                        <span>Total:</span>
                        <span id="summary-total">-</span>
                    </div>
                </div>
                
                <button class="btn btn-success" id="confirm-reservation-btn" style="width: 100%; margin-top: 15px;">
                    <i class="fas fa-check-circle"></i> Solicitar Reservaci√≥n
                </button>
            </div>
        </div>
    </section>

    <!-- Social Media Section -->
    <section class="social-section" id="social">
        <div class="container">
            <h2 class="section-title">S√≠guenos en Redes Sociales</h2>
            <p style="text-align: center; margin-bottom: 40px; font-size: 18px; color: var(--gray);">
                Mantente conectado con nosotros y descubre nuestras √∫ltimas novedades, eventos y promociones.
            </p>
            
            <div class="social-grid">
                <div class="social-card">
                    <i class="fab fa-instagram social-icon"></i>
                    <h3>Instagram</h3>
                    <p>Sigue nuestro Instagram para ver fotos y videos exclusivos de nuestros eventos y ambiente.</p>
                    <a href="https://instagram.com/lemoukclub" target="_blank" class="social-link">
                        <i class="fab fa-instagram"></i>
                        @lemoukclub
                    </a>
                </div>
                
                <div class="social-card">
                    <i class="fab fa-facebook social-icon"></i>
                    <h3>Facebook</h3>
                    <p>√önete a nuestra comunidad en Facebook y ent√©rate de todos nuestros eventos y promociones.</p>
                    <a href="https://facebook.com/lemoukclub" target="_blank" class="social-link">
                        <i class="fab fa-facebook"></i>
                        Le Mouk Club
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Admin Panel -->
    <section class="admin-panel" id="admin-panel">
        <div class="container">
            <div class="admin-header">
                <h2 class="section-title">Panel de Administraci√≥n</h2>
                <button class="btn" id="back-to-reservations-btn">
                    <i class="fas fa-arrow-left"></i> Volver a Reservaciones
                </button>
            </div>
            
            <div class="admin-actions">
                <button class="btn btn-danger" id="clear-reservations-btn">
                    <i class="fas fa-trash"></i> Limpiar Todas las Reservaciones
                </button>
                <button class="btn btn-secondary" id="print-reservations-btn">
                    <i class="fas fa-print"></i> Imprimir Reservaciones
                </button>
                <button class="btn btn-success" id="add-furniture-btn">
                    <i class="fas fa-plus"></i> Agregar Mesa
                </button>
            </div>

            <!-- Informaci√≥n de Firebase -->
            <div class="sync-section">
                <h3><i class="fas fa-database"></i> Sistema en Tiempo Real</h3>
                
                <div class="sync-status" id="sync-status" style="display: none;">
                    <i class="fas fa-sync fa-spin"></i>
                    <span id="sync-message">Sincronizando...</span>
                </div>
                
                <div class="config-info">
                    <p><strong>Estado:</strong> <span id="firebase-status">Conectando...</span></p>
                    <p><strong>Total reservaciones:</strong> <span id="total-reservations">0</span></p>
                    <p><strong>Pendientes:</strong> <span id="pending-reservations">0</span></p>
                    <p><strong>Confirmadas:</strong> <span id="confirmed-reservations">0</span></p>
                    <p><strong>Total mesas:</strong> <span id="total-furniture">0</span></p>
                </div>
            </div>
            
            <div class="calendar-container">
                <h3>Calendario de Reservaciones</h3>
                <div id="admin-calendar-container"></div>
            </div>
            
            <div class="reservations-list">
                <h3>Gesti√≥n de Reservaciones</h3>
                <div id="reservations-list-container">
                    <!-- Las reservaciones se cargar√°n aqu√≠ -->
                </div>
            </div>
            
            <div class="furniture-management">
                <h3>Gesti√≥n de Mesas</h3>
                <p style="color: #aaa; margin-bottom: 15px;">Agrega, edita o elimina mesas disponibles para reservaci√≥n.</p>
                <div class="furniture-management-grid" id="furniture-management-grid">
                    <!-- Las mesas para gesti√≥n se cargar√°n aqu√≠ -->
                </div>
            </div>
        </div>
    </section>

    <!-- Secci√≥n para impresi√≥n (oculta por defecto) -->
    <div id="printable-reservations" style="display: none;">
        <h2>Reservaciones - Le Mouk Club</h2>
        <div id="print-content"></div>
    </div>

    <!-- Footer -->
    <footer id="contact">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Le Mouk Club</h3>
                    <p>El lugar perfecto para disfrutar de noches inolvidables con amigos, buena m√∫sica y el mejor ambiente.</p>
                </div>
                <div class="footer-section">
                    <h3>Horario</h3>
                    <p>Martes - Jueves: 8:00 PM - 2:00 AM</p>
                    <p>Viernes - Domingo: 8:00 PM - 3:00 AM</p>
                    <p>Lunes Cerrado</p>
                </div>
                <div class="footer-section">
                    <h3>Contacto</h3>
                    <p><i class="fas fa-map-marker-alt"></i> Av. 27 de Febrero, Santiago</p>
                    <p><i class="fas fa-phone"></i> 1 809 460 3090</p>
                    <p><i class="fas fa-envelope"></i> lemoukclub@Hotmail.com</p>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2025 Le Mouk Club. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <script>
        // =============================================
        // CONFIGURACI√ìN FIREBASE - ¬°REEMPLAZA ESTOS DATOS!
        // =============================================
        const firebaseConfig = {
            apiKey: "AIzaSyCmpyzCWcG9ofugL-y3xMHMOk_583Re7YY",
  authDomain : "lemouk-b5b52.firebaseapp.com" , 
  databaseURL: "https://lemouk-b5b52-default-rtdb.firebaseio.com",
  projectId: "lemouk-b5b52",
  storageBucket: "lemouk-b5b52.firebasestorage.app",
  messagingSenderId: "493120119644",
  appId : "1:493120119644:web:7cbd8a74e3ae835ec15799" , 
  measurementId: "G-S9YYH7NKX4"
        };

        // =============================================
        // CONFIGURACI√ìN ADMIN
        // =============================================
        const ADMIN_CREDENTIALS = {
            username: "admin",
            password: "2025"
        };

        // =============================================
        // CONFIGURACI√ìN WHATSAPP
        // =============================================
        const WHATSAPP_CONFIG = {
            companyNumber: "18094603090", // N√∫mero de la compa√±√≠a
            bankInfo: {
                name: "Banco Popular Dominicano",
                account: "123-456789-0",
                holder: "Le Mouk Club"
            }
        };

        // =============================================
        // CONFIGURACI√ìN DE ENLACES
        // =============================================
        const LINKS_CONFIG = {
            evento: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRPmJXEb6P7JFPnGx_AXokFYxbXM62D5SQSfQ&s.jpg", // Reemplaza con tu enlace real
            posicioneMueble: "https://drive.google.com/file/d/1F2BnpWFaVwuLWFZmWbAInmuFsQjpbRVP/view?usp=drive_link" // Reemplaza con tu enlace real
        };

        // =============================================
        // INICIALIZACI√ìN DE LA APLICACI√ìN
        // =============================================
        console.log('üöÄ Iniciando Le Mouk Club App...');

        // Variables globales
        let selectedDate = null;
        let selectedFurniture = null;
        let reservations = [];
        let furniture = [];
        let db;
        let isAdminLoggedIn = false;

        // Inicializar Firebase
        try {
            firebase.initializeApp(firebaseConfig);
            db = firebase.database();
            console.log('‚úÖ Firebase inicializado correctamente');
            updateConnectionStatus('online', 'Conectado');
        } catch (error) {
            console.error('‚ùå Error inicializando Firebase:', error);
            updateConnectionStatus('offline', 'Error de conexi√≥n');
        }

        // Inicializar aplicaci√≥n cuando el DOM est√© listo
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
            setupEventListeners();
            loadInitialFurnitureData();
            if (db) {
                setupFirebaseListeners();
            }
        });

        function initializeApp() {
            console.log('Inicializando aplicaci√≥n...');
            renderCalendar();
            document.getElementById('furniture-container').style.display = 'none';
            document.getElementById('reservation-summary').style.display = 'none';
        }

        function setupEventListeners() {
            // Navegaci√≥n
            document.getElementById('menu-toggle').addEventListener('click', toggleMobileMenu);
            document.getElementById('admin-login-btn').addEventListener('click', showLoginModal);
            document.getElementById('back-to-reservations-btn').addEventListener('click', hideAdminPanel);
            document.getElementById('reserve-now-btn').addEventListener('click', scrollToReservations);
            
            // Reservaciones
            document.getElementById('confirm-reservation-btn').addEventListener('click', showClientModal);
            
            // Modales
            document.getElementById('client-modal-close').addEventListener('click', hideClientModal);
            document.getElementById('admin-login-form').addEventListener('submit', handleAdminLogin);
            document.getElementById('client-form').addEventListener('submit', handleClientReservation);
            
            // Admin
            document.getElementById('clear-reservations-btn').addEventListener('click', clearReservations);
            document.getElementById('print-reservations-btn').addEventListener('click', printReservations);
            document.getElementById('add-furniture-btn').addEventListener('click', showAddFurnitureModal);
            
            // Modal de mesas
            document.getElementById('furniture-modal-close').addEventListener('click', hideFurnitureModal);
            document.getElementById('furniture-form').addEventListener('submit', handleFurnitureForm);
            
            // Cerrar modales al hacer clic fuera
            document.getElementById('login-modal').addEventListener('click', function(e) {
                if (e.target === this) hideLoginModal();
            });
            
            document.getElementById('client-modal').addEventListener('click', function(e) {
                if (e.target === this) hideClientModal();
            });
            
            document.getElementById('furniture-modal').addEventListener('click', function(e) {
                if (e.target === this) hideFurnitureModal();
            });
        }

        // =============================================
        // FIREBASE - TIEMPO REAL
        // =============================================

        function setupFirebaseListeners() {
            // Escuchar cambios en las reservaciones
            const reservationsRef = db.ref('reservations');
            
            reservationsRef.on('value', (snapshot) => {
                const data = snapshot.val();
                reservations = data ? Object.values(data) : [];
                
                console.log('üìä Reservaciones actualizadas:', reservations.length);
                updateReservationCounters();
                
                // Actualizar interfaz
                renderCalendar();
                if (selectedDate) renderFurnitureGrid();
                if (isAdminLoggedIn) renderAdminReservations();
                
                showSyncStatus('‚úÖ Datos actualizados', 'success');
            });

            // Escuchar cambios en las mesas
            const furnitureRef = db.ref('furniture');
            
            furnitureRef.on('value', (snapshot) => {
                const data = snapshot.val();
                if (data) {
                    furniture = Object.values(data);
                    console.log('ü™ë Mesas actualizadas:', furniture.length);
                } else {
                    // Si no hay mesas en Firebase, cargar las iniciales
                    loadInitialFurnitureData();
                }
                
                updateFurnitureCounters();
                
                // Actualizar interfaz
                if (selectedDate) renderFurnitureGrid();
                if (isAdminLoggedIn) renderFurnitureManagement();
            });

            // Estado de conexi√≥n
            const connectedRef = db.ref('.info/connected');
            connectedRef.on('value', (snapshot) => {
                if (snapshot.val() === true) {
                    updateConnectionStatus('online', 'Conectado');
                } else {
                    updateConnectionStatus('offline', 'Desconectado');
                }
            });
        }

        function updateReservationCounters() {
            const total = reservations.length;
            const pending = reservations.filter(r => r.status === 'pending').length;
            const confirmed = reservations.filter(r => r.status === 'confirmed').length;
            const cancelled = reservations.filter(r => r.status === 'cancelled').length;
            
            document.getElementById('total-reservations').textContent = total;
            document.getElementById('pending-reservations').textContent = pending;
            document.getElementById('confirmed-reservations').textContent = confirmed;
        }

        function updateFurnitureCounters() {
            document.getElementById('total-furniture').textContent = furniture.length;
        }

        function updateConnectionStatus(status, message) {
            const element = document.getElementById('connection-status');
            const text = document.getElementById('status-text');
            const statusElement = document.getElementById('firebase-status');
            
            element.className = `connection-status ${status}`;
            text.textContent = message;
            
            if (status === 'online') {
                statusElement.textContent = 'Conectado';
                statusElement.style.color = '#51cf66';
            } else {
                statusElement.textContent = 'Desconectado';
                statusElement.style.color = '#ff6b6b';
            }
        }

        async function saveReservationToFirebase(reservation) {
            try {
                const newReservationRef = db.ref('reservations').push();
                await newReservationRef.set({
                    ...reservation,
                    firebaseId: newReservationRef.key,
                    status: 'pending', // Estado por defecto: pendiente
                    createdAt: new Date().toISOString()
                });
                return true;
            } catch (error) {
                console.error('Error guardando reservaci√≥n:', error);
                return false;
            }
        }

        async function updateReservationStatus(reservationId, status) {
            try {
                const reservationsRef = db.ref('reservations');
                const snapshot = await reservationsRef.once('value');
                const reservations = snapshot.val();
                
                if (reservations) {
                    for (const key in reservations) {
                        if (reservations[key].id === reservationId) {
                            await db.ref('reservations/' + key).update({
                                status: status,
                                updatedAt: new Date().toISOString(),
                                updatedBy: 'admin'
                            });
                            return true;
                        }
                    }
                }
                return false;
            } catch (error) {
                console.error('Error actualizando reservaci√≥n:', error);
                return false;
            }
        }

        // =============================================
        // GESTI√ìN DE MESAS
        // =============================================

        function loadInitialFurnitureData() {
            // Datos iniciales de mesas
            const initialFurniture = [
                { id: 1, name: "Mesa VIP 1", capacity: 6, price: 5000, icon: "crown" },
                { id: 2, name: "Mesa VIP 2", capacity: 4, price: 4000, icon: "crown" },
                { id: 3, name: "Mesa Est√°ndar 1", capacity: 4, price: 3000, icon: "chair" },
                { id: 4, name: "Mesa Est√°ndar 2", capacity: 4, price: 3000, icon: "chair" },
                { id: 5, name: "Mesa Grande", capacity: 8, price: 7000, icon: "users" },
                { id: 6, name: "Mesa Peque√±a", capacity: 2, price: 2000, icon: "user-friends" },
				{ id: 7, name: "Mesa VIP 1", capacity: 6, price: 5000, icon: "crown" },
                { id: 8, name: "Mesa VIP 2", capacity: 4, price: 4000, icon: "crown" },
                { id: 9, name: "Mesa Est√°ndar 1", capacity: 4, price: 3000, icon: "chair" },
                { id: 10, name: "Mesa Est√°ndar 2", capacity: 4, price: 3000, icon: "chair" },
                { id: 11, name: "Mesa Grande", capacity: 8, price: 7000, icon: "users" },
                { id: 12, name: "Mesa Peque√±a", capacity: 2, price: 2000, icon: "user-friends" },
				{ id: 13, name: "Mesa VIP 1", capacity: 6, price: 5000, icon: "crown" },
                { id: 14, name: "Mesa VIP 2", capacity: 4, price: 4000, icon: "crown" },
                { id: 15, name: "Mesa Est√°ndar 1", capacity: 4, price: 3000, icon: "chair" },
                { id: 16, name: "Mesa Est√°ndar 2", capacity: 4, price: 3000, icon: "chair" },
                { id: 17, name: "Mesa Grande", capacity: 8, price: 7000, icon: "users" },
                { id: 18, name: "Mesa Peque√±a", capacity: 2, price: 2000, icon: "user-friends" },
				{ id: 19, name: "Mesa Grande", capacity: 8, price: 7000, icon: "users" },
                { id: 20, name: "Mesa Peque√±a", capacity: 2, price: 2000, icon: "user-friends" },
				{ id: 21, name: "Mesa VIP 1", capacity: 6, price: 5000, icon: "crown" },
                { id: 22, name: "Mesa VIP 2", capacity: 4, price: 4000, icon: "crown" },
                { id: 23, name: "Mesa Est√°ndar 1", capacity: 4, price: 3000, icon: "chair" },
                { id: 24, name: "Mesa Est√°ndar 2", capacity: 4, price: 3000, icon: "chair" },
                { id: 25, name: "Mesa Grande", capacity: 8, price: 7000, icon: "users" },
                { id: 26, name: "Mesa Peque√±a", capacity: 2, price: 2000, icon: "user-friends" },
				{ id: 27, name: "Mesa VIP 1", capacity: 6, price: 5000, icon: "crown" },
                { id: 28, name: "Mesa VIP 2", capacity: 4, price: 4000, icon: "crown" },
                { id: 29, name: "Mesa Est√°ndar 1", capacity: 4, price: 3000, icon: "chair" },
                { id: 30, name: "Mesa Est√°ndar 2", capacity: 4, price: 3000, icon: "chair" },
                { id: 31, name: "Mesa Grande", capacity: 8, price: 7000, icon: "users" },
                { id: 32, name: "Mesa Peque√±a", capacity: 2, price: 2000, icon: "user-friends" }
            ];
            
            // Solo cargar datos iniciales si no hay mesas en Firebase
            if (furniture.length === 0) {
                furniture = initialFurniture;
                
                // Guardar en Firebase si est√° disponible
                if (db) {
                    const furnitureRef = db.ref('furniture');
                    furnitureRef.remove().then(() => {
                        initialFurniture.forEach(item => {
                            furnitureRef.push().set(item);
                        });
                    });
                }
            }
        }

        function showAddFurnitureModal() {
            document.getElementById('furniture-modal-title').textContent = 'Agregar Nueva Mesa';
            document.getElementById('furniture-form').reset();
            document.getElementById('furniture-edit-id').value = '';
            document.getElementById('furniture-modal').style.display = 'flex';
        }

        function showEditFurnitureModal(furnitureItem) {
            document.getElementById('furniture-modal-title').textContent = 'Editar Mesa';
            document.getElementById('furniture-edit-id').value = furnitureItem.id;
            document.getElementById('furniture-name').value = furnitureItem.name;
            document.getElementById('furniture-capacity').value = furnitureItem.capacity;
            document.getElementById('furniture-price').value = furnitureItem.price;
            document.getElementById('furniture-icon').value = furnitureItem.icon;
            document.getElementById('furniture-modal').style.display = 'flex';
        }

        function hideFurnitureModal() {
            document.getElementById('furniture-modal').style.display = 'none';
            document.getElementById('furniture-form').reset();
        }

        async function handleFurnitureForm(e) {
            e.preventDefault();
            
            const name = document.getElementById('furniture-name').value.trim();
            const capacity = parseInt(document.getElementById('furniture-capacity').value);
            const price = parseInt(document.getElementById('furniture-price').value);
            const icon = document.getElementById('furniture-icon').value;
            const editId = document.getElementById('furniture-edit-id').value;
            
            if (!name || !capacity || !price || !icon) {
                alert('Por favor, completa todos los campos');
                return;
            }
            
            const furnitureItem = {
                name: name,
                capacity: capacity,
                price: price,
                icon: icon
            };
            
            if (editId) {
                // Editar mesa existente
                furnitureItem.id = parseInt(editId);
                await updateFurnitureInFirebase(furnitureItem);
            } else {
                // Agregar nueva mesa
                furnitureItem.id = Date.now();
                await saveFurnitureToFirebase(furnitureItem);
            }
            
            hideFurnitureModal();
        }

        async function saveFurnitureToFirebase(furnitureItem) {
            try {
                await db.ref('furniture').push().set(furnitureItem);
                showSyncStatus('‚úÖ Mesa agregada correctamente', 'success');
                return true;
            } catch (error) {
                console.error('Error guardando mesa:', error);
                showSyncStatus('‚ùå Error al guardar mesa', 'error');
                return false;
            }
        }

        async function updateFurnitureInFirebase(furnitureItem) {
            try {
                const furnitureRef = db.ref('furniture');
                const snapshot = await furnitureRef.once('value');
                const furnitureData = snapshot.val();
                
                if (furnitureData) {
                    for (const key in furnitureData) {
                        if (furnitureData[key].id === furnitureItem.id) {
                            await db.ref('furniture/' + key).update(furnitureItem);
                            showSyncStatus('‚úÖ Mesa actualizada correctamente', 'success');
                            return true;
                        }
                    }
                }
                return false;
            } catch (error) {
                console.error('Error actualizando mesa:', error);
                showSyncStatus('‚ùå Error al actualizar mesa', 'error');
                return false;
            }
        }

        async function deleteFurnitureFromFirebase(furnitureId) {
            if (!confirm('¬øEst√°s seguro de que quieres eliminar esta mesa?')) return;

            try {
                const furnitureRef = db.ref('furniture');
                const snapshot = await furnitureRef.once('value');
                const furnitureData = snapshot.val();
                
                if (furnitureData) {
                    for (const key in furnitureData) {
                        if (furnitureData[key].id === furnitureId) {
                            await db.ref('furniture/' + key).remove();
                            showSyncStatus('‚úÖ Mesa eliminada correctamente', 'success');
                            return true;
                        }
                    }
                }
                return false;
            } catch (error) {
                console.error('Error eliminando mesa:', error);
                showSyncStatus('‚ùå Error al eliminar mesa', 'error');
                return false;
            }
        }

        function renderFurnitureManagement() {
            const container = document.getElementById('furniture-management-grid');
            
            if (furniture.length === 0) {
                container.innerHTML = '<p>No hay mesas configuradas</p>';
                return;
            }
            
            let html = '';
            furniture.forEach(item => {
                html += `
                    <div class="furniture-management-card">
                        <i class="fas fa-${item.icon} furniture-icon"></i>
                        <div class="furniture-name">${item.name}</div>
                        <div class="furniture-details">
                            <div>Capacidad: ${item.capacity} personas</div>
                            <div>Precio: $${item.price}</div>
                        </div>
                        <div class="furniture-management-actions">
                            <button class="btn btn-warning btn-small" onclick="showEditFurnitureModal(${JSON.stringify(item).replace(/"/g, '&quot;')})">
                                <i class="fas fa-edit"></i> Editar
                            </button>
                            <button class="btn btn-danger btn-small" onclick="deleteFurnitureFromFirebase(${item.id})">
                                <i class="fas fa-trash"></i> Eliminar
                            </button>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }

        // =============================================
        // FUNCIONES PRINCIPALES DE LA APLICACI√ìN
        // =============================================

        function renderCalendar() {
            const container = document.getElementById('calendar-container');
            const today = new Date();
            const currentMonth = today.getMonth();
            const currentYear = today.getFullYear();
            
            let html = '<div class="calendar"><div class="calendar-header">';
            ['Dom', 'Lun', 'Mar', 'Mi√©', 'Jue', 'Vie', 'S√°b'].forEach(day => {
                html += `<div>${day}</div>`;
            });
            html += '</div>';
            
            const firstDay = new Date(currentYear, currentMonth, 1).getDay();
            const lastDate = new Date(currentYear, currentMonth + 1, 0).getDate();
            
            for (let i = 0; i < firstDay; i++) {
                html += '<div class="calendar-day disabled"></div>';
            }
            
            for (let day = 1; day <= lastDate; day++) {
                const dateStr = `${currentYear}-${String(currentMonth + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                const dateObj = new Date(currentYear, currentMonth, day);
                const isPast = dateObj < new Date(new Date().setHours(0,0,0,0));
                const isSelected = selectedDate === dateStr;
                const dayReservations = reservations.filter(r => r.date === dateStr);
                const confirmedReservations = dayReservations.filter(r => r.status === 'confirmed');
                const pendingReservations = dayReservations.filter(r => r.status === 'pending');
                
                let dayClass = 'calendar-day';
                if (isPast) dayClass += ' disabled';
                if (isSelected) dayClass += ' selected';
                if (confirmedReservations.length > 0) dayClass += ' has-reservations';
                if (pendingReservations.length > 0) dayClass += ' has-pending';
                
                html += `<div class="${dayClass}" data-date="${dateStr}">${day}`;
                if (confirmedReservations.length > 0) {
                    html += `<div class="reservation-count">${confirmedReservations.length}</div>`;
                }
                if (pendingReservations.length > 0 && confirmedReservations.length === 0) {
                    html += `<div class="reservation-count pending-count">${pendingReservations.length}</div>`;
                }
                html += '</div>';
            }
            
            html += '</div>';
            container.innerHTML = html;
            
            document.querySelectorAll('.calendar-day:not(.disabled)').forEach(day => {
                day.addEventListener('click', function() {
                    selectDate(this.dataset.date);
                });
            });
        }

        function renderFurnitureGrid() {
            const container = document.getElementById('furniture-grid');
            
            if (!selectedDate) {
                container.innerHTML = '<p>Selecciona una fecha primero</p>';
                return;
            }
            
            const confirmedReservations = reservations.filter(r => 
                r.date === selectedDate && r.status === 'confirmed'
            );
            const pendingReservations = reservations.filter(r => 
                r.date === selectedDate && r.status === 'pending'
            );
            
            const reservedFurnitureIds = confirmedReservations.map(r => r.furnitureId);
            const pendingFurnitureIds = pendingReservations.map(r => r.furnitureId);
            
            let html = '';
            furniture.forEach(item => {
                const isReserved = reservedFurnitureIds.includes(item.id);
                const isPending = pendingFurnitureIds.includes(item.id);
                const isSelected = selectedFurniture === item.id;
                
                let cardClass = 'furniture-card';
                if (isReserved) {
                    cardClass += ' reserved';
                } else if (isPending) {
                    cardClass += ' pending';
                } else {
                    cardClass += ' available';
                }
                if (isSelected) cardClass += ' selected';
                
                let statusText, statusClass, iconColor;
                if (isReserved) {
                    statusText = 'CONFIRMADA';
                    statusClass = 'status-reserved';
                    iconColor = '#ff6b6b';
                } else if (isPending) {
                    statusText = 'PENDIENTE';
                    statusClass = 'status-pending';
                    iconColor = '#fcc419';
                } else {
                    statusText = 'DISPONIBLE';
                    statusClass = 'status-available';
                    iconColor = '#8a2be2';
                }
                
                html += `
                    <div class="${cardClass}" data-id="${item.id}">
                        <i class="fas fa-${item.icon} furniture-icon" style="color: ${iconColor}"></i>
                        <div class="furniture-name">${item.name}</div>
                        <div class="furniture-details">
                            <div>Capacidad: ${item.capacity} personas</div>
                            <div>Precio: $${item.price}</div>
                            <div class="status-badge ${statusClass}">${statusText}</div>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
            
            document.querySelectorAll('.furniture-card.available').forEach(card => {
                card.addEventListener('click', function() {
                    selectFurniture(parseInt(this.dataset.id));
                });
            });
        }

        function showClientModal() {
            if (!selectedDate || !selectedFurniture) {
                alert('Por favor, selecciona una fecha y una mesa');
                return;
            }
            
            // Verificar disponibilidad
            const confirmedReservations = reservations.filter(r => 
                r.date === selectedDate && r.status === 'confirmed'
            );
            const reservedFurnitureIds = confirmedReservations.map(r => r.furnitureId);
            
            if (reservedFurnitureIds.includes(selectedFurniture)) {
                alert('‚ùå Esta mesa ya fue reservada. Por favor, selecciona otra mesa.');
                renderFurnitureGrid();
                return;
            }
            
            document.getElementById('client-modal').style.display = 'flex';
        }

        function hideClientModal() {
            document.getElementById('client-modal').style.display = 'none';
            document.getElementById('client-form').reset();
        }

        async function handleClientReservation(e) {
            e.preventDefault();
            
            const name = document.getElementById('client-name').value.trim();
            const lastname = document.getElementById('client-lastname').value.trim();
            const whatsapp = document.getElementById('client-whatsapp').value.trim();
            const notes = document.getElementById('client-notes').value.trim();
            
            if (!name || !lastname || !whatsapp) {
                alert('Por favor, completa todos los campos obligatorios');
                return;
            }
            
            const furnitureItem = furniture.find(f => f.id === selectedFurniture);
            const reservation = {
                id: Date.now(),
                date: selectedDate,
                furnitureId: selectedFurniture,
                furnitureName: furnitureItem.name,
                capacity: furnitureItem.capacity,
                price: furnitureItem.price,
                client: {
                    name: name,
                    lastname: lastname,
                    whatsapp: whatsapp,
                    notes: notes
                },
                timestamp: new Date().toISOString(),
                status: 'pending'
            };
            
            showSyncStatus('Enviando solicitud...', 'loading');
            
            const success = await saveReservationToFirebase(reservation);
            
            if (success) {
                // Enviar notificaciones por WhatsApp
                sendWhatsAppNotifications(reservation);
                
                alert('‚úÖ Solicitud enviada correctamente\n\nTe contactaremos por WhatsApp para confirmar tu reserva y enviarte los detalles de pago.');
                hideClientModal();
                resetSelection();
            } else {
                alert('‚ùå Error al enviar la solicitud. Intenta nuevamente.');
            }
        }

        function sendWhatsAppNotifications(reservation) {
            const dateObj = new Date(reservation.date + 'T12:00:00'); // FIX: Agregar hora para evitar problemas de zona horaria
            const formattedDate = dateObj.toLocaleDateString('es-ES', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            
            // Mensaje para el cliente
            const clientMessage = `¬°Hola ${reservation.client.name}! Gracias por tu solicitud de reservaci√≥n en Le Mouk Club.

üìÖ Fecha: ${formattedDate}
ü™ë Mesa: ${reservation.furnitureName}
üë• Capacidad: ${reservation.capacity} personas
üí∞ Precio: $${reservation.price}

Para confirmar tu reserva, realiza el pago a:
üè¶ Banco: ${WHATSAPP_CONFIG.bankInfo.name}
üìù Cuenta: ${WHATSAPP_CONFIG.bankInfo.account}
üë§ Titular: ${WHATSAPP_CONFIG.bankInfo.holder}

Una vez realizado el pago, env√≠anos el comprobante por este mismo medio.

¬°Esperamos verte pronto en Le Mouk Club! üéâ`;

            // Mensaje para la compa√±√≠a
            const companyMessage = `üìã NUEVA SOLICITUD DE RESERVACI√ìN

üë§ Cliente: ${reservation.client.name} ${reservation.client.lastname}
üìû WhatsApp: ${reservation.client.whatsapp}
üìÖ Fecha: ${formattedDate}
ü™ë Mesa: ${reservation.furnitureName}
üí∞ Precio: $${reservation.price}
${reservation.client.notes ? `üìù Notas: ${reservation.client.notes}` : ''}

ID de reservaci√≥n: ${reservation.id}`;

            // Abrir WhatsApp para el cliente
            const clientWhatsAppUrl = `https://wa.me/${reservation.client.whatsapp.replace(/\D/g, '')}?text=${encodeURIComponent(clientMessage)}`;
            window.open(clientWhatsAppUrl, '_blank');
            
            // Abrir WhatsApp para la compa√±√≠a
            const companyWhatsAppUrl = `https://wa.me/${WHATSAPP_CONFIG.companyNumber}?text=${encodeURIComponent(companyMessage)}`;
            window.open(companyWhatsAppUrl, '_blank');
        }

        function resetSelection() {
            selectedDate = null;
            selectedFurniture = null;
            document.getElementById('selected-date-indicator').style.display = 'none';
            document.getElementById('furniture-container').style.display = 'none';
            document.getElementById('reservation-summary').style.display = 'none';
            renderCalendar();
        }

        // =============================================
        // SISTEMA DE LOGIN ADMIN
        // =============================================

        function showLoginModal() {
            document.getElementById('login-modal').style.display = 'flex';
        }

        function hideLoginModal() {
            document.getElementById('login-modal').style.display = 'none';
            document.getElementById('admin-login-form').reset();
        }

        function handleAdminLogin(e) {
            e.preventDefault();
            
            const username = document.getElementById('admin-username').value.trim();
            const password = document.getElementById('admin-password').value.trim();
            
            if (username === ADMIN_CREDENTIALS.username && password === ADMIN_CREDENTIALS.password) {
                isAdminLoggedIn = true;
                hideLoginModal();
                showAdminPanel();
                showSyncStatus('‚úÖ Sesi√≥n administrativa iniciada', 'success');
            } else {
                alert('‚ùå Credenciales incorrectas');
                document.getElementById('admin-password').value = '';
            }
        }

        function showAdminPanel() {
            document.getElementById('reservations').style.display = 'none';
            document.getElementById('admin-panel').style.display = 'block';
            renderAdminCalendar();
            renderAdminReservations();
            renderFurnitureManagement();
        }

        function hideAdminPanel() {
            document.getElementById('admin-panel').style.display = 'none';
            document.getElementById('reservations').style.display = 'block';
        }

        // =============================================
        // FUNCIONES AUXILIARES
        // =============================================

        function selectDate(date) {
            selectedDate = date;
            const dateObj = new Date(date + 'T12:00:00'); // FIX: Agregar hora para evitar problemas de zona horaria
            document.getElementById('selected-date-text').textContent = 
                dateObj.toLocaleDateString('es-ES', { 
                    weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' 
                });
            document.getElementById('selected-date-indicator').style.display = 'flex';
            renderCalendar();
            document.getElementById('furniture-container').style.display = 'block';
            renderFurnitureGrid();
            updateReservationSummary();
            
            // Scroll autom√°tico a las mesas
            setTimeout(() => {
                document.getElementById('furniture-container').scrollIntoView({ 
                    behavior: 'smooth', 
                    block: 'start' 
                });
            }, 300);
        }

        function selectFurniture(furnitureId) {
            selectedFurniture = furnitureId;
            renderFurnitureGrid();
            document.getElementById('reservation-summary').style.display = 'block';
            updateReservationSummary();
            
            // Scroll autom√°tico al resumen
            setTimeout(() => {
                document.getElementById('reservation-summary').scrollIntoView({ 
                    behavior: 'smooth', 
                    block: 'start' 
                });
            }, 300);
        }

        function updateReservationSummary() {
            if (!selectedDate || !selectedFurniture) return;
            
            const dateObj = new Date(selectedDate + 'T12:00:00'); // FIX: Agregar hora para evitar problemas de zona horaria
            const furnitureItem = furniture.find(f => f.id === selectedFurniture);
            
            document.getElementById('summary-date').textContent = dateObj.toLocaleDateString('es-ES');
            document.getElementById('summary-furniture').textContent = furnitureItem.name;
            document.getElementById('summary-capacity').textContent = `${furnitureItem.capacity} personas`;
            document.getElementById('summary-price').textContent = `$${furnitureItem.price}`;
            document.getElementById('summary-total').textContent = `$${furnitureItem.price}`;
        }

        function renderAdminReservations() {
            const container = document.getElementById('reservations-list-container');
            
            if (reservations.length === 0) {
                container.innerHTML = '<p>No hay reservaciones activas</p>';
                return;
            }
            
            const sortedReservations = [...reservations].sort((a, b) => 
                new Date(b.createdAt || b.timestamp) - new Date(a.createdAt || a.timestamp)
            );
            
            let html = '';
            sortedReservations.forEach(reservation => {
                // FIX: Corregir problema de fecha - agregar hora para evitar problemas de zona horaria
                const dateObj = new Date(reservation.date + 'T12:00:00');
                const timeObj = new Date(reservation.createdAt || reservation.timestamp);
                
                let statusClass, statusText;
                switch(reservation.status) {
                    case 'confirmed':
                        statusClass = 'status-confirmed-badge';
                        statusText = 'CONFIRMADA';
                        break;
                    case 'cancelled':
                        statusClass = 'status-cancelled-badge';
                        statusText = 'CANCELADA';
                        break;
                    default:
                        statusClass = 'status-pending-badge';
                        statusText = 'PENDIENTE';
                }
                
                html += `
                    <div class="reservation-item ${reservation.status}">
                        <div class="reservation-info">
                            <div class="reservation-date">${dateObj.toLocaleDateString('es-ES')}</div>
                            <div class="reservation-details">
                                ${reservation.furnitureName} - ${reservation.capacity} personas - $${reservation.price}
                            </div>
                            <div class="reservation-client">
                                <strong>Cliente:</strong> ${reservation.client.name} ${reservation.client.lastname}
                            </div>
                            <div class="reservation-client">
                                <strong>WhatsApp:</strong> ${reservation.client.whatsapp}
                            </div>
                            ${reservation.client.notes ? `
                                <div class="reservation-client">
                                    <strong>Notas:</strong> ${reservation.client.notes}
                                </div>
                            ` : ''}
                            <div class="reservation-time">
                                Solicitado el ${timeObj.toLocaleDateString('es-ES')} a las ${timeObj.toLocaleTimeString('es-ES')}
                            </div>
                            <div class="reservation-status ${statusClass}">${statusText}</div>
                        </div>
                        <div class="reservation-actions">
                            ${reservation.status === 'pending' ? `
                                <button class="btn btn-success btn-small" onclick="confirmReservation(${reservation.id})">
                                    <i class="fas fa-check"></i> Confirmar
                                </button>
                                <button class="btn btn-danger btn-small" onclick="cancelReservation(${reservation.id})">
                                    <i class="fas fa-times"></i> Cancelar
                                </button>
                                <button class="btn btn-secondary btn-small" onclick="sendPaymentReminder(${reservation.id})">
                                    <i class="fab fa-whatsapp"></i> Recordatorio
                                </button>
                            ` : ''}
                            ${reservation.status === 'confirmed' ? `
                                <button class="btn btn-danger btn-small" onclick="cancelReservation(${reservation.id})">
                                    <i class="fas fa-times"></i> Cancelar
                                </button>
                            ` : ''}
                            ${reservation.status === 'cancelled' ? `
                                <button class="btn btn-success btn-small" onclick="confirmReservation(${reservation.id})">
                                    <i class="fas fa-check"></i> Reactivar
                                </button>
                            ` : ''}
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }

        async function confirmReservation(reservationId) {
            showSyncStatus('Confirmando reservaci√≥n...', 'loading');
            const success = await updateReservationStatus(reservationId, 'confirmed');
            
            if (success) {
                showSyncStatus('‚úÖ Reservaci√≥n confirmada', 'success');
                
                // Enviar confirmaci√≥n por WhatsApp
                const reservation = reservations.find(r => r.id === reservationId);
                if (reservation) {
                    sendConfirmationMessage(reservation);
                }
            } else {
                showSyncStatus('‚ùå Error al confirmar', 'error');
            }
        }

        function sendConfirmationMessage(reservation) {
            const dateObj = new Date(reservation.date + 'T12:00:00'); // FIX: Agregar hora para evitar problemas de zona horaria
            const formattedDate = dateObj.toLocaleDateString('es-ES', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            
            const message = `¬°Hola ${reservation.client.name}! Tu reservaci√≥n en Le Mouk Club ha sido CONFIRMADA.

üìÖ Fecha: ${formattedDate}
ü™ë Mesa: ${reservation.furnitureName}
üë• Capacidad: ${reservation.capacity} personas
üí∞ Precio: $${reservation.price}

¬°Estamos emocionados de recibirte! Recuerda llegar puntual para disfrutar al m√°ximo de tu experiencia.

Para cualquier consulta, cont√°ctanos al 809-460-3090.

¬°Te esperamos en Le Mouk Club! üéâ`;

            const whatsappUrl = `https://wa.me/${reservation.client.whatsapp.replace(/\D/g, '')}?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
        }

        function sendPaymentReminder(reservationId) {
            const reservation = reservations.find(r => r.id === reservationId);
            if (!reservation) return;
            
            const dateObj = new Date(reservation.date + 'T12:00:00'); // FIX: Agregar hora para evitar problemas de zona horaria
            const formattedDate = dateObj.toLocaleDateString('es-ES', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            
            const message = `¬°Hola ${reservation.client.name}! Recordatorio de tu reservaci√≥n pendiente en Le Mouk Club.

üìÖ Fecha: ${formattedDate}
ü™ë Mesa: ${reservation.furnitureName}
üë• Capacidad: ${reservation.capacity} personas
üí∞ Precio: $${reservation.price}

Para confirmar tu reserva, realiza el pago a:
üè¶ Banco: ${WHATSAPP_CONFIG.bankInfo.name}
üìù Cuenta: ${WHATSAPP_CONFIG.bankInfo.account}
üë§ Titular: ${WHATSAPP_CONFIG.bankInfo.holder}

Una vez realizado el pago, env√≠anos el comprobante por este mismo medio.

¬°Esperamos verte pronto! üéâ`;

            const whatsappUrl = `https://wa.me/${reservation.client.whatsapp.replace(/\D/g, '')}?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
        }

        async function cancelReservation(reservationId) {
            if (!confirm('¬øEst√°s seguro de que quieres cancelar esta reservaci√≥n?')) return;

            showSyncStatus('Cancelando reservaci√≥n...', 'loading');
            const success = await updateReservationStatus(reservationId, 'cancelled');
            
            if (success) {
                showSyncStatus('‚úÖ Reservaci√≥n cancelada', 'success');
            } else {
                showSyncStatus('‚ùå Error al cancelar', 'error');
            }
        }

        function clearReservations() {
            if (!confirm('¬øEST√ÅS SEGURO? Esto eliminar√° TODAS las reservaciones permanentemente.')) return;

            if (db) {
                db.ref('reservations').remove()
                    .then(() => {
                        showSyncStatus('‚úÖ Todas las reservaciones eliminadas', 'success');
                    })
                    .catch((error) => {
                        console.error('Error:', error);
                        showSyncStatus('‚ùå Error al eliminar', 'error');
                    });
            }
        }

        function printReservations() {
            if (reservations.length === 0) {
                alert('No hay reservaciones para imprimir');
                return;
            }
            
            const printContent = document.getElementById('print-content');
            let html = `
                <table style="width: 100%; border-collapse: collapse; margin-top: 20px;">
                    <thead>
                        <tr style="background-color: #f5f5f5;">
                            <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">Fecha</th>
                            <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">Mesa</th>
                            <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">Cliente</th>
                            <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">WhatsApp</th>
                            <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">Notas</th>
                            <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">Estado</th>
                        </tr>
                    </thead>
                    <tbody>
            `;
            
            const sortedReservations = [...reservations].sort((a, b) => 
                new Date(a.date) - new Date(b.date)
            );
            
            sortedReservations.forEach(reservation => {
                const dateObj = new Date(reservation.date + 'T12:00:00'); // FIX: Agregar hora para evitar problemas de zona horaria
                let statusText;
                switch(reservation.status) {
                    case 'confirmed':
                        statusText = 'CONFIRMADA';
                        break;
                    case 'cancelled':
                        statusText = 'CANCELADA';
                        break;
                    default:
                        statusText = 'PENDIENTE';
                }
                
                html += `
                    <tr>
                        <td style="border: 1px solid #ddd; padding: 8px;">${dateObj.toLocaleDateString('es-ES')}</td>
                        <td style="border: 1px solid #ddd; padding: 8px;">${reservation.furnitureName}</td>
                        <td style="border: 1px solid #ddd; padding: 8px;">${reservation.client.name} ${reservation.client.lastname}</td>
                        <td style="border: 1px solid #ddd; padding: 8px;">${reservation.client.whatsapp}</td>
                        <td style="border: 1px solid #ddd; padding: 8px;">${reservation.client.notes || '-'}</td>
                        <td style="border: 1px solid #ddd; padding: 8px;">${statusText}</td>
                    </tr>
                `;
            });
            
            html += `
                    </tbody>
                </table>
                <p style="margin-top: 20px; font-size: 12px;">Impreso el ${new Date().toLocaleDateString('es-ES')} a las ${new Date().toLocaleTimeString('es-ES')}</p>
            `;
            
            printContent.innerHTML = html;
            
            // Mostrar la secci√≥n de impresi√≥n y luego imprimir
            document.getElementById('printable-reservations').style.display = 'block';
            window.print();
            document.getElementById('printable-reservations').style.display = 'none';
        }

        function scrollToReservations() {
            document.getElementById('reservations').scrollIntoView({ behavior: 'smooth' });
        }

        function toggleMobileMenu() {
            document.getElementById('nav-links').classList.toggle('active');
        }

        function showSyncStatus(message, type) {
            const statusElement = document.getElementById('sync-status');
            const messageElement = document.getElementById('sync-message');
            
            messageElement.textContent = message;
            statusElement.style.display = 'flex';
            
            if (type === 'success') statusElement.style.backgroundColor = 'rgba(76, 175, 80, 0.2)';
            else if (type === 'error') statusElement.style.backgroundColor = 'rgba(244, 67, 54, 0.2)';
            else if (type === 'loading') statusElement.style.backgroundColor = 'rgba(33, 150, 243, 0.2)';
            
            if (type !== 'loading') {
                setTimeout(() => statusElement.style.display = 'none', 3000);
            }
        }

        function renderAdminCalendar() {
            const container = document.getElementById('admin-calendar-container');
            const today = new Date();
            const currentMonth = today.getMonth();
            const currentYear = today.getFullYear();
            
            let html = '<div class="calendar"><div class="calendar-header">';
            ['Dom', 'Lun', 'Mar', 'Mi√©', 'Jue', 'Vie', 'S√°b'].forEach(day => {
                html += `<div>${day}</div>`;
            });
            html += '</div>';
            
            const firstDay = new Date(currentYear, currentMonth, 1).getDay();
            const lastDate = new Date(currentYear, currentMonth + 1, 0).getDate();
            
            for (let i = 0; i < firstDay; i++) {
                html += '<div class="calendar-day disabled"></div>';
            }
            
            for (let day = 1; day <= lastDate; day++) {
                const dateStr = `${currentYear}-${String(currentMonth + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                const dateObj = new Date(currentYear, currentMonth, day);
                const isPast = dateObj < new Date(new Date().setHours(0,0,0,0));
                const dayReservations = reservations.filter(r => r.date === dateStr);
                const confirmedReservations = dayReservations.filter(r => r.status === 'confirmed');
                const pendingReservations = dayReservations.filter(r => r.status === 'pending');
                
                let dayClass = 'calendar-day';
                if (isPast) dayClass += ' disabled';
                if (confirmedReservations.length > 0) dayClass += ' has-reservations';
                if (pendingReservations.length > 0) dayClass += ' has-pending';
                
                html += `<div class="${dayClass}" data-date="${dateStr}">${day}`;
                if (confirmedReservations.length > 0) {
                    html += `<div class="reservation-count">${confirmedReservations.length}</div>`;
                }
                if (pendingReservations.length > 0 && confirmedReservations.length === 0) {
                    html += `<div class="reservation-count pending-count">${pendingReservations.length}</div>`;
                }
                html += '</div>';
            }
            
            html += '</div>';
            container.innerHTML = html;
        }

        console.log('üéâ Le Mouk Club App cargada correctamente');
    </script>
</body>
</html>
